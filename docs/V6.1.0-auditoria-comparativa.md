# Auditoria comparativa — V5.5.6 vs V6.1.0

## Por que a V6.x vale a pena (em relação à V5.5.6)
- **Preparação para Backend / API**: V6 introduz `KCUtils` e `KCAPI` (client), reduzindo acoplamento e facilitando migrar o JSON local para endpoints (ex.: `GET /api/v1/posts`).
- **Organização por assets**: CSS/JS/dados deixam de ficar “soltos” na raiz (como na V5.5.6) e passam a ter uma hierarquia previsível (`assets/css`, `assets/js`, `assets/data`).
- **Compatibilidade com Vercel**: V6.1.0 garante `index.html` na raiz e evita estrutura duplicada (ex.: `/frontend`), reduzindo bugs de caminho relativo.

## Problema encontrado na V6.0.2/V6.0.3 (e corrigido na V6.1.0)
- **Anúncios em `product.html?id=...` não carregavam** em alguns cenários porque o arquivo de banco local estava em `data/database.json` mas algumas páginas/trechos buscavam `data/database.json`.
- Correção: **o banco oficial continua em `data/database.json`** e existe um **alias** em `data/database.json` (compatibilidade retroativa).

## Padronização feita na V6.1.0
### CSS
- `assets/css/styles.v554.css` + `assets/css/styles.v556.css` → `assets/css/styles.css` (merge por concatenação, preservando ordem)

### JS
- `assets/js/script.v554.js` + `assets/js/script.v556.js` → `assets/js/kc-core.js` (merge por concatenação, preservando ordem)
- `assets/js/kc-utils.v600.js` → `assets/js/kc-utils.js`
- `assets/js/kc-api.client.v600.js` → `assets/js/kc-api.client.js`
- `assets/js/theme.v556.js` → `assets/js/kc-theme.js`
- `assets/js/search.js` → `assets/js/kc-search.js`
- `assets/js/filters.js` → `assets/js/kc-filters.js`

## Checklist de validação (manual)
1. `/` abre (home)
2. `/product.html?id=19` abre um anúncio existente
3. Busca: `search-results.html?q=...` lista resultados e abre `product.html?id=...`
4. Módulos: `moradia.html`, `eventos.html`, `caronas-feed.html`, etc.
5. Tema: alterna e persiste após refresh

